{% include "core/header.html" %}
    <link rel="manifest" href="{{ url_for('static',filename='js/manifest.json')}}">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="{{ url_for('static',filename='js/jquery-3.2.1.min.js')}}"></script>
    <script src="{{ url_for('static',filename='js/bootstrap.min.js')}}"></script>
    <section id="editor">
        <!-- Html para el menu de la izquierda-->
        <div class="sidenav">
            <a class="editor-a" data-toggle="modal" data-target="#modelo" >Modelo</a>
            <a class="editor-a" data-toggle="modal" data-target="#maderas">Maderas</a>
            <a class="editor-a" data-toggle="modal" data-target="#acabado">Acabado</a>
            <a class="editor-a" data-toggle="modal" data-target="#pastillas">Pastillas</a>
            <a class="editor-a" data-toggle="modal" data-target="#componentes">Componentes</a>
            <div id="precio" class="text-light">1500</div>
        </div>
        <img id="turn" src="static/img/rotate-device.png" alt="">
        <button onclick="vistaEnfrente()" id="vistaEnfrente" class="btn">Vista Delantera</button>
        <button onclick="vistaTrasera()" id="vistaTrasera" class="btn">Vista Trasera</button>
        <button id="rotar" onclick="rotar(miguitarra)" class="btn">Rotar</button>
        <script>
            var Modelos=[];
            var modelo=[];
        </script>

        <div class="modal fade" id="modelo" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 id="" class="modal-title">Escoge Modelo</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="" class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="maderas" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 id="" class="modal-title">Escoge Maderas</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="" class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="acabado" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 id="" class="modal-title">Escoge Acabado</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="" class="modal-body">
                        <a onclick="hacerGloss(miguitarra[0].material)" data-dismiss="modal">
                            <img src='static/img/brillo.png'width='200'>
                            <span style="display: block;">Brillo</span>
                        </a>
                        <a onclick="hacerMate(miguitarra[0].material)" data-dismiss="modal">
                            <img src='static/img/mate.png' width='200'>
                        <span style="display: block;">Mate</span>
                        </a>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="pastillas" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 id="" class="modal-title">Escoge Pastillas</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="" class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="componentes" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 id="" class="modal-title">Escoge Componentes</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="" class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>

        {% for pieza in lista %}
            {% for item in pieza %}
                {% set outer_loop = loop %}
                <!-- Modal -->
                <div class="modal fade" id="{{ item.id }}" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                            <!--<div class="modal-header">
                                <h5 id="{{ item.id }}Titulo" class="modal-title">{{ item.titulo }}</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div id="{{ item.id }}Body1" class="modal-body">
                                {% for modelo in item.opcionesModelo %}
                                    <script>modelo.push('{{ modelo.modelo }}')</script>
                                    <a onclick="cambiarCuerpo(event, miguitarra,{{ outer_loop.index-1 }},'static/modelos/{{ modelo.modelo }}',{{ item.id }})"><img src='static/img/{{ modelo.foto }}' data-toggle='{{ item.id }}' data-dismiss='modal' width='200'></a>
                                {% endfor %}
                            </div>-->

                            <div class="modal-header">
                                <h5 id="{{ item.id }}Header2" class="modal-title">Escoge acabado</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div id="{{ item.id }}Body2" class="modal-body">
                           </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>
                <script>Modelos.push(modelo);</script>
            {% endfor %}
        {% endfor %}
    <canvas id="mycanvas"></canvas>

    <script src="{{ url_for('static',filename='js/THREEx.WindowResize.js')}}"></script>
    <script src="{{ url_for('static',filename='js/three.min.js')}}"></script>
    <script src="{{ url_for('static',filename='js/OrbitControls.js')}}"></script>
    <script src="{{ url_for('static',filename='js/STLLoader.js')}}"></script>
	<script src="{{ url_for('static',filename='js/editor.js') }}"></script>
    </section>